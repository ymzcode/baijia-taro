var device=require("../../device"),eventEmitter=require("../../eventEmitter"),language=require("./language/main")(),rollCallInterval=null;Component({data:{isAndroid:device.isAndroid(),language:language,showDialog:!1,duration:0,content:"",confirmText:language.CALL_THE_ROOL_RESPOND,showCancelBtn:!1},methods:{onDialogConfirm:function(){this.setData({showDialog:!1,duration:0,content:""}),rollCallInterval=clearInterval(rollCallInterval),wx.showToast({title:language.CALL_THE_ROOL_RESPOND_SUCCESS}),eventEmitter.trigger(eventEmitter.ROLL_CALL_RES)}},ready:function(){eventEmitter.on(eventEmitter.ROLL_CALL,(e,t)=>{device.isAndroid();var a=t.duration;this.setData({showDialog:!0,duration:a}),this.setData({content:`${language.CALL_THE_ROOL_REQUIREMENTS_BEFORE} ${a}s ${language.CALL_THE_ROOL_REQUIREMENTS_AFTER}`}),a--,rollCallInterval=setInterval(()=>{if(a<=0)return this.setData({showDialog:!1,duration:0}),void(rollCallInterval=clearInterval(rollCallInterval));this.setData({duration:a}),this.setData({content:`${language.CALL_THE_ROOL_REQUIREMENTS_BEFORE} ${a}s ${language.CALL_THE_ROOL_REQUIREMENTS_AFTER}`}),a--},1e3)})}});