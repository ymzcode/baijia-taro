var eventEmitter=require("../../../eventEmitter"),pageData=require("../../../data/page"),docData=require("../../../data/doc");Component({properties:{currentPage:{type:Number,value:0,abserver:function(t,e){this.refreshList()}},styleInfo:{type:Object,value:{imageWidth:80,imageHeight:60}}},data:{pptList:[],maxCount:5},ready:function(){var t=this;eventEmitter.on(eventEmitter.SERVER_PAGE_CHANGE,function(e,a){t.setData({currentPage:docData.getSimplePage(a.docId,a.page).page}),t.refreshList()}).on(eventEmitter.CLIENT_PAGE_CHANGE,function(e,a){t.setData({currentPage:docData.getSimplePage(a.docId,a.page).page}),t.refreshList()}).on(eventEmitter.DOC_REMOVE,function(e,a){t.refreshList()}).on(eventEmitter.DOC_ADD,function(e,a){t.refreshList()})},methods:{refreshList:function(){var t=this;setTimeout(function(){for(var e,a=pageData.getPageList(pageData.getServerPage()),i=t.data.currentPage,r=0;e=a[r++];)e.page==i?e.activeClass="active":e.activeClass="";t.setData({pptList:a})},0)},onImageTap:function(t){console.log("pptSelection onImageTap",t);this.triggerEvent("pptImageTap",{item:t.currentTarget.dataset.item})},onScrolltolower:function(t){this.setData({maxCount:Math.min(this.data.maxCount+5,this.data.pptList.length)})}}});